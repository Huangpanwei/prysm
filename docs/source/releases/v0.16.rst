***********
prysm v0.16
***********

New Features
============

* :meth:`~prysm.convolution.Convolvable.conv` now has a :code:`dryrun` argument which will return a string describing the result and codepath that would be followed.

* :func:`prysm.coordinates.make_xy_grid` and :func:`~prysm.coordinates.make_rho_phi_grid` now take a :code:`radius` argument.

* :meth:`prysm.objects.TiltedSquare.__init__` now takes :code:`radius` and :code:`contrast` arguments.

* :func:`prysm.io.read_sigfit_zernikes` function to read Zernike coefficients from `SigFit <http://sigmadyne.com/sigfit-software/>`_ :code:`OUTCOF3` files.

* :func:`prysm.io.read_sigfit_rigidbody` function to read rigid body motion and radius error coefficients from SigFit :code:`SUM2` files.

* :meth:`prysm.interferogram.Interferogram.pad` function to pad interferograms; useful for dealing with group delay from spatial filtering.

* :func:`~p.thinlens.object_to_image_dist` to calculate an object distance given a focal length and image distance.

* Convolutions reworked - The code that manages convolutions in prysm has been rewritten.

* * New :class:`~prysm.convolution.ConvolutionEngine` which allows users to control the execution flow of a convolution, adjust the data in k-space before returning to the spatial domain, and other advanced features.  For more information see the updated User's Guide.

* * prysm has slimmed by 300 SLOC.

* * Several bugs have been squashed in the process.

Bugfixes
========

* :meth:`~prysm.convolution.Convolvable.conv` now produces the correct number of output samples in all cases.  Fixes #3.

* unit changes have been corrected - prior results were incorrect.

* the :code:`norm` kwarg has improved behavior for Zernike classes, no longer setting :code:`z.normalize = True` when the :code:`norm=False` kwarg is passed.

* an error is no longer raised when calling :meth:`prysm.convolution.Convolvable.save` with :code:`nbits=8`.

* calls to :meth:`prysm.pupil.Pupil.mask` now properly capture the mask for application to the :code:`fcn` property.

* units on PSD plots are now properly referenced to spatial and phase units, not nm.  This fix affects axis labels, not data.

Under-the-hood Changes
======================

* :attr:`prysm.pupil.Pupil.strehl` now uses a more accurate formula.

* the :mod:`prysm.mathops` module has been reworked, and its use throughout the library adjusted in concert with this change.

* :func:`prysm.propagation.prop_pupil_plane_to_psf_plane` performance has been improved when Q=1.

* some functions have had their conformance with :attr:`prysm.config.precision` improved.
